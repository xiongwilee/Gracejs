var RevealNotes=function(){function e(e){function t(){var e=setInterval(function(){s.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")},500);window.addEventListener("message",function(t){var n=JSON.parse(t.data);n&&"reveal-notes"===n.namespace&&"connected"===n.type&&(clearInterval(e),a())})}function n(){var e=Reveal.getCurrentSlide(),t=e.querySelector("aside.notes"),n={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:Reveal.getState()};e.hasAttribute("data-notes")&&(n.notes=e.getAttribute("data-notes"),n.whitespace="pre-wrap"),t&&(n.notes=t.innerHTML,n.markdown="string"==typeof t.getAttribute("data-markdown")),s.postMessage(JSON.stringify(n),"*")}function a(){Reveal.addEventListener("slidechanged",n),Reveal.addEventListener("fragmentshown",n),Reveal.addEventListener("fragmenthidden",n),Reveal.addEventListener("overviewhidden",n),Reveal.addEventListener("overviewshown",n),Reveal.addEventListener("paused",n),Reveal.addEventListener("resumed",n),n()}if(!e){var o=document.querySelector('script[src$="notes.js"]').src;o=o.replace(/notes\.js(\?.*)?$/,""),e=o+"notes.html"}var s=window.open(e,"reveal.js - Notes","width=1100,height=700");t()}return/receiver/i.test(window.location.search)||(null!==window.location.search.match(/(\?|\&)notes/gi)&&e(),document.addEventListener("keydown",function(t){null!==document.querySelector(":focus")||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||Reveal.getConfig().keyboard!==!1&&83===t.keyCode&&(t.preventDefault(),e())},!1),window.Reveal&&Reveal.registerKeyboardShortcut("S","Speaker notes view")),{open:e}}();define("/Users/xiongweilie/projects/github/iblog/static/js/lib/reveal/notes.js",function(){});